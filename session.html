<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session - Hunt-Hunt-Planur</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <div class="session-container">
        <!-- Notification Permission Banner -->
        <div id="notificationPermissionBanner" class="notification-permission-banner" style="display: none;">
            <div class="banner-content">
                <span class="banner-icon">ğŸ””</span>
                <span class="banner-text">Enable notifications to receive alerts even when your screen is locked or the app is in the background</span>
                <button id="enableNotificationsBtn" class="btn btn-small btn-primary">Enable Notifications</button>
                <button id="dismissNotificationBanner" class="btn btn-small btn-secondary">Maybe Later</button>
            </div>
        </div>
        
        <!-- Alert Notification Panel -->
        <div id="alertNotificationPanel" class="alert-notification-panel" style="display: none;">
            <span id="alertNotificationText"></span>
        </div>
        
        <header class="session-header">
            <div class="session-info">
                <h1>
                    <a href="index.html" style="color: inherit; text-decoration: none;"><img src="img/hunt-hunt-planur-48p.webp" alt="Menu" style="width: 48px; height: 48px; vertical-align: middle; margin-right: 8px;"></a>
                    <span id="sessionName">Session</span>
                    <button id="editSessionNameBtn" class="btn-icon" style="display: none;" title="Edit session name">âœï¸</button>
                </h1>
                <div class="session-code-display">
                    Code: <strong id="sessionCode"></strong>
                    <button id="copyCodeBtn" class="btn btn-small"><span class="copy-text">Copy</span><span class="copy-icon">ğŸ“‹</span></button>
                </div>
            </div>
            <div class="header-actions">
                <span id="participantName" class="user-display"></span>
                <button id="leaveSessionBtn" class="btn btn-small btn-danger">
                    <span class="leave-text">Leave Session</span>
                    <span class="leave-icon">ğŸšª</span>
                </button>
            </div>
        </header>

        <div class="session-layout">
            <!-- Map Container -->
            <div class="map-container" id="mapContainer">
                <div id="map"></div>
                <div class="map-controls">
                    <button id="centerMapBtn" class="btn btn-small">ğŸ“</button>
                    <button id="toggleSharingBtn" class="btn btn-small btn-primary">Share Location</button>
                    <button id="fullscreenBtn" class="btn btn-small">â›¶</button>
                </div>
            </div>

            <!-- Participants Sidebar -->
            <div class="participants-sidebar">
                <h3>Participants (<span id="participantCount">0</span>)</h3>
                <div id="participantsList" class="participants-list"></div>
            </div>
        </div>

        <!-- Floating Alert Button -->
        <button id="alertBtn" class="floating-alert-btn" title="Alert all participants">
            ğŸ“¢
        </button>

        <div id="message" class="message"></div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/session.js"></script>
</body>
</html>
